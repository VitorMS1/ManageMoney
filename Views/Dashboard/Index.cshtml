@using Syncfusion.EJ2
@using Syncfusion.EJ2.Charts
<script src="~/Scripts/theme-color.js"></script>
<div class="control-section" align="center">

    @Html.EJS().Chart("container").Series(series =>
    {
        series.Type(Syncfusion.EJ2.Charts.ChartSeriesType.Column).XName("Country").YName("Rate").EnableTooltip(false)
            .Marker(mr => mr.DataLabel(dl => dl.Visible(false).Position(Syncfusion.EJ2.Charts.LabelPosition.Top).Font(ff => ff.FontWeight("600").Color("#ffffff"))))
            .Opacity(0.5).ColumnWidth(0.8).DataSource(ViewBag.ChartPoints).Add();
        series.Type(Syncfusion.EJ2.Charts.ChartSeriesType.Column).XName("Country").YName("Literacy_Rate").TooltipMappingName("Text")
            .Marker(mr => mr.DataLabel(dl => dl.Visible(true).Name("text").Position(Syncfusion.EJ2.Charts.LabelPosition.Top).Font(ff => ff.FontWeight("600").Color("#ffffff"))))
            .ColumnWidth(0.8).DataSource(ViewBag.ChartPoints).Add();
    }).PrimaryXAxis(px => px.Interval(1).MajorGridLines(mg=>mg.Width(0))
        .LabelPosition(Syncfusion.EJ2.Charts.AxisPosition.Outside).ValueType(Syncfusion.EJ2.Charts.ValueType.Category)
        ).PrimaryYAxis(py => py.Minimum(0).Maximum(100).LabelFormat("{value}%")
            .Interval(25).MajorTickLines(mg => mg.Width(0)).MinorTickLines(mg => mg.Width(0)).LineStyle(mg => mg.Width(0))
        ).Title("Literacy rate by Country in 2015").ChartArea(area => area.Border(br => br.Width(0))
        ).Tooltip(tt => tt.Enable(true).Header("<b>${point.x}</b>").Format("Rate : <b>${point.tooltip}</b>")).LegendSettings(lg => lg.Visible(false)
        ).EnableSideBySidePlacement(false).Load("load").PointRender("pointRender").Render()
    </div>


<script>


    
    var pointRender = function (args) {
        var selectedTheme = location.hash.split('/')[1];
            selectedTheme = selectedTheme ? selectedTheme : 'material';
            if (selectedTheme && selectedTheme.indexOf('fabric-dark') > -1) {
                if (args.series.yName === "Rate")
                    args.fill = "f9fafb";
            }
            else if (selectedTheme && selectedTheme.indexOf('fabric') > -1) {
                if (args.series.yName === "Rate")
                    args.fill = "grey";
            }
            else if (selectedTheme === 'material-dark') {
                if (args.series.yName === "Rate")
                    args.fill = "f9fafb";
            }
            else if (selectedTheme === 'material') {
                if (args.series.yName === "Rate")
                    args.fill = "grey";
            }
            else if (selectedTheme === 'bootstrap5-dark') {
                if (args.series.yName === "Rate")
                    args.fill = "#f9fafb";
            }
            else if (selectedTheme === 'bootstrap5') {
                if (args.series.yName === "Rate")
                    args.fill = "grey";
            }
            else if (selectedTheme === 'bootstrap-dark') {
                if (args.series.yName === "Rate")
                    args.fill = "f9fafb";
            }
            else if (selectedTheme === 'bootstrap') {
                if (args.series.yName === "Rate")
                    args.fill = "grey";
            }
            else if (selectedTheme === 'highcontrast') {
                if (args.series.yName === "Rate")
                    args.fill = "#f9fafb";
            }
            else if (selectedTheme === 'fluent-dark') {
                if (args.series.yName === "Rate")
                    args.fill = "#f9fafb";
            }
            else if (selectedTheme === 'fluent') {
                if (args.series.yName === "Rate")
                    args.fill = "grey";
            }
            else if (selectedTheme === 'tailwind-dark') {
                if (args.series.yName === "Rate")
                    args.fill = "#f9fafb";
            }
            else if (selectedTheme === 'tailwind') {
                if (args.series.yName === "Rate")
                    args.fill = "grey";
            }
            else {
                if (args.series.yName === "Rate")
                    args.fill = "grey";
            }
    }		
</script>